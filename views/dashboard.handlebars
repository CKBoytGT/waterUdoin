<section class="flex flex-col md:flex-row md:space-x-10 space-y-10 md:space-y-0 items-stretch md:h-[85vh] p-5">
    <div class="flex flex-col space-y-10 items-stretch basis-2/3">
        <!-- today's water intake -->
        <div class="flex flex-col items-center justify-center space-y-10 h-auto w-full p-10 ">
            <div class="text-center">
                <h2 class="text-4xl font-bold text-blue-700">Today's Water Intake</h2>
                <p>
                    <em>One glass equals 8 fluid ounces of water.</em>
                </p>
            </div>
            <div class="flex flex-col md:flex-row items-center justify-center space-y-10 md:space-y-0 md:space-x-10">
                <!-- percentage box -->
                <div
                    class="flex flex-col text-center bg-gradient-to-br from-sky-400 to-blue-700 rounded-lg text-white aspect-square items-center justify-center p-2">
                    <h3 class="text-5xl font-bold"><span id="percentage">100</span>%</h3>
                    <p class="text-sm">of your current goal</p>
                </div>
                <!-- inputs -->
                <div class="space-y-4">
                    <form id="intake-form">
                        <label for="amount" class="font-bold">Glasses drank today:</label>
                        <input class="w-10 mx-2" id="amount" type="number" placeholder="8" min="0" max="99"
                            oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null">
                        <button
                            class="bg-blue-700 hover:bg-yellow-300 text-white hover:text-blue-700 tracking-wide font-thin py-1 px-4 rounded-full text-md shadow-md"
                            type="submit">
                            UPDATE
                        </button>
                    </form>
                    <form id="goal-form">
                        <label for="goal" class="font-bold">Current daily goal:</label>
                        <input class="w-10 mx-2" id="goal" type="number" placeholder="8" min="0" max="99"
                            oninput="this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null">
                        <button
                            class="bg-blue-700 hover:bg-yellow-300 text-white hover:text-blue-700 tracking-wide font-thin py-1 px-4 rounded-full text-md shadow-md"
                            type="submit">
                            UPDATE
                        </button>
                    </form>
                </div>
            </div>
        </div>
        <div class="h-full w-auto p-10 grow">
            <div class="chart-container">
                <canvas id="line-chart"></canvas>
            </div>
            <script src="https://cdn.jsdelivr.net/npm/chart.js@4.0.1/dist/chart.umd.min.js"></script>
            <script>
                new Chart(document.getElementById("line-chart"), {
                    type: 'line',
                    data: {
                        labels: [30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],
                        datasets: [
                            {
                                data: [5, 6, 5, 6, 6,
                                    6, 5, 6, 5, 6, 5, 7, 5, 6, 7],
                                label: "Last 30 Logs",
                                borderColor: "#1d4ed8",
                                fill: false
                            }]
                    },
                    options: {
                        title: {
                            display: true,
                            text: 'Chart JS Line Chart Example'
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        },
                    }
                });
            </script>
        </div>
    </div>
    <div class="basis-1/3">
        <h2 class="text-4xl font-bold text-blue-700 mb-4">Site Leaderboard</h2>
        <table>
            <tr>
                <thead
                    class="border-b-2 border-gray-400 text-white text-m font-sans font-semibold tracking-wide text-left bg-blue-500">
                    <th class="p-3">
                        Username</th>
                    <th class="p-3">
                        Today's %</th>
                    <th class="p-3">Avg.
                        Monthly %</th>
                </thead>
                <tbody>
                    <tr class="border-none bg-blue-50">
                        <td class="py-6 px-6">Username1</td>
                        <td class="py-6 px-6">100%</td>
                        <td class="py-6 px-6">100%</td>
                    </tr>
                    <tr class="border-none bg-gray-200">
                        <td class="py-6 px-6">Username2</td>
                        <td class="py-6 px-6">99%</td>
                        <td class="py-6 px-6">100%</td>
                    </tr>
                </tbody>
            </tr>
        </table>
    </div>
</section>

<script src="/js/intake.js" type="application/javascript"></script>